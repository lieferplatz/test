task sourcesJar(type: Jar, dependsOn: classes) {
    classifier = "sources"
//    from sourceSets.main.allJava
    from sourceSets.main.java, sourceSets.main.resources/*, sourceSets.main.groovy*/
}

javadoc.options {

    encoding = 'UTF-8'
    links 'https://docs.oracle.com/javase/8/docs/api/'

    memberLevel = JavadocMemberLevel.PROTECTED
    author = true
    header = project.name
    if (JavaVersion.current().isJava8Compatible()) {
        addStringOption('Xdoclint:none', '-quiet')
    }
    //overview = "${projectDir}/src/main/java/overview.html"
}

task javadocJar(type: Jar, dependsOn: 'javadoc') {
    from javadoc.destinationDir
    classifier = 'javadoc'
}

artifacts {
    archives sourcesJar
    archives jar
    archives javadocJar
}
